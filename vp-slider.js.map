{"version":3,"file":"vp-slider.js","sourceRoot":"","sources":["src/vp-slider.ts"],"names":[],"mappings":"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","sourcesContent":["import {LitElement, html, css} from 'lit';\nimport {customElement, property, state} from 'lit/decorators.js';\n\nenum FILE_TYPE {\n  UNKNOWN,\n  IMAGE,\n  AUDIO,\n  VIDEO,\n  PDF,\n}\nconst IMG_DEFAULT_PDF =\n  'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhPbMwry90hzI9yozBdLXe1Y6pkAD_IoYanvP4eWkGP7b3pwLqJ7R-9y3kj8bklVt7ZWzl3VmeN0A&usqp=CAU&ec=48600112';\nconst FAILED =\n  'https://previews.123rf.com/images/pockygallery/pockygallery1504/pockygallery150400347/39166249-failed-red-stamp-text-on-white.jpg';\n\nconst VALID_IMAGES_FILES = ['jpg', 'jpeg', 'png', 'gif', 'bmp'];\nconst VALID_AUDIO_FILES = ['wav'];\nconst VALID_VIDEO_FILES = ['mp4'];\nconst VALID_PDF_FILES = ['pdf'];\n@customElement('vp-slider')\n// max image-size: 320 x 200\nexport class VerloopSlider extends LitElement {\n  static override styles = css`\n    :host {\n      display: block;\n      width: 100%;\n      background: #f4f5f6;\n      border-radius: 8px;\n      max-width: 320px;\n      padding: 8px;\n    }\n    div.display-bar {\n      display: flex;\n      padding: 4px 0px;\n      align-items: center;\n    }\n    span {\n      flex: 1;\n      overflow-wrap: anywhere;\n      font-weight: 500;\n      font-size: 13px;\n      line-height: 20px;\n      color: #5c6074;\n    }\n    img,\n    video {\n      height: 100%;\n      width: 100%;\n      object-fit: cover;\n      border-radius: 4px;\n      max-width: 320px;\n      max-height: 200px;\n    }\n    audio {\n      width: 100%;\n      max-width: 320px;\n    }\n    button {\n      margin: 0px 4px;\n    }\n  `;\n\n  @property()\n  url = '';\n\n  @property({type: Boolean})\n  hideFilename = false;\n\n  @state()\n  mediaType: FILE_TYPE = FILE_TYPE.UNKNOWN;\n\n  override attributeChangedCallback(\n    name: string,\n    _old: string | null,\n    value: string | null\n  ): void {\n    super.attributeChangedCallback(name, _old, value);\n    // on attribute changed compute mediaType\n    this.mediaType = this._getMediaType();\n  }\n\n  private _getMediaType(): FILE_TYPE {\n    const fileExtension = this.url.split('.').pop();\n    if (!fileExtension) return FILE_TYPE.UNKNOWN;\n\n    if (VALID_IMAGES_FILES.includes(fileExtension)) {\n      return FILE_TYPE.IMAGE;\n    } else if (VALID_AUDIO_FILES.includes(fileExtension)) {\n      return FILE_TYPE.AUDIO;\n    } else if (VALID_VIDEO_FILES.includes(fileExtension)) {\n      return FILE_TYPE.VIDEO;\n    } else if (VALID_PDF_FILES.includes(fileExtension)) {\n      return FILE_TYPE.PDF;\n    } else {\n      return FILE_TYPE.UNKNOWN;\n    }\n  }\n\n  private _displayByMediaType() {\n    switch (this.mediaType) {\n      case FILE_TYPE.IMAGE:\n        return html`<img src=${this.url} />`;\n      case FILE_TYPE.VIDEO:\n        return html`<video src=${this.url} controls></video>`;\n      case FILE_TYPE.AUDIO:\n        return html`<audio src=${this.url} controls></audio>`;\n      case FILE_TYPE.PDF:\n        return html`<img src=${IMG_DEFAULT_PDF} />`;\n      default:\n        return html`<img src=${FAILED} />`;\n    }\n  }\n\n  // CHECK ON THE BEST WAY FOR OUR USE-CASE\n\n  // private _onViewClick() {\n  //   this.dispatchEvent(new CustomEvent('click', {\n  //     bubbles: true,\n  //     composed: true,\n  //     detail: {\n  //       message: 'Something important happened'\n  //     }\n  //   }));\n  // }\n\n  override render() {\n    return html`\n      ${this._displayByMediaType()}\n      <div class=\"display-bar\">\n        <span> ${!this.hideFilename ? this.url : ''} </span>\n        <button>View</button>\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'vp-slider': VerloopSlider;\n  }\n}\n"]}